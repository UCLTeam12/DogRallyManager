@model IEnumerable<DogRallyManager.Database.Models.Signs.Sign>

@{
    ViewData["Title"] = "Board";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Board</title>
    <link rel="stylesheet" href="/css/Board.css">
</head>
<body>
<div class="board-container">
    <div class="board">
        <table>
            @for (var y = 0; y < 8; y++)
            {
            <tr>
                @for (var x = 0; x < 8; x++)
                {
                var signPiece = Model.FirstOrDefault(p => p.PositionX == x && p.PositionY == y);
                <td>
                    @if (signPiece != null)
                    {
                    <div class="sign" data-sign-id="@signPiece.Id">@signPiece.SignType</div>
                    }
                </td>
                }
            </tr>
            }
        </table>
    </div>
</div>

<script>
    $('.sign').click(function () {
        var signId = $(this).data('sign-id');
        var newX = prompt('Enter new X coordinate:');
        var newY = prompt('Enter new Y coordinate:');
        if (newX !== null && newY !== null) {
            $.post('/Sign/MoveSign', { signId: signId, newX: newX, newY: newY }, function () {
                location.reload();
            });
        }
    });
</script>
</body>
</html>